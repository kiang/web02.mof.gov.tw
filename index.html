<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
	<title>縣市營利事業統計圖</title>
  <meta property="og:title" content="縣市營利事業統計圖">
  <meta property="og:description" content="縣市營利事業統計圖以財政統計資料庫提供之資料為基礎繪製圖表">
  <meta property="og:type" content="website">
  <meta property="og:image" content="http://kiang.github.io/web02.mof.gov.tw/og_image.png">

	<script src="//cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<style>
	canvas{
		-moz-user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}
	</style>
</head>
<body>
	<div style="width:100%;">
		<canvas id="canvas1"></canvas>
    <canvas id="canvas2"></canvas>
    <canvas id="canvas3"></canvas>
	</div>
  * 資料來自財政統計資料庫 http://web02.mof.gov.tw/njswww/WebProxy.aspx?sys=100&funid=defjspf2
	<script>
  var dynamicColors = function() {
    var r = Math.floor(Math.random() * 255);
    var g = Math.floor(Math.random() * 255);
    var b = Math.floor(Math.random() * 255);
    return "rgb(" + r + "," + g + "," + b + ")";
 };
 var colorPool = {};
 $.get('data1.json', {}, function(d){
   for (k in d['datasets']) {
     if(!colorPool[d['datasets'][k].label]) {
       colorPool[d['datasets'][k].label] = dynamicColors();
     }
     var color = colorPool[d['datasets'][k].label];
     d['datasets'][k].backgroundColor = color;
     d['datasets'][k].borderColor = color;
     d['datasets'][k].fill = false;
   }
   var config = {
    type: 'line',
    data: d,
    options: {
      responsive: true,
      title: {
        display: true,
        text: '營利事業家數'
      },
      tooltips: {
        mode: 'nearest',
        intersect: false,
      },
      hover: {
        mode: 'nearest',
        intersect: true
      },
      scales: {
        xAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: '半年'
          }
        }],
        yAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: '家'
          }
        }]
      }
    }
  };

   var ctx = document.getElementById('canvas1').getContext('2d');
   window.myLine1 = new Chart(ctx, config);
 });
 $.get('data2.json', {}, function(d){
   for (k in d['datasets']) {
     if(!colorPool[d['datasets'][k].label]) {
       colorPool[d['datasets'][k].label] = dynamicColors();
     }
     var color = colorPool[d['datasets'][k].label];
     d['datasets'][k].backgroundColor = color;
     d['datasets'][k].borderColor = color;
     d['datasets'][k].fill = false;
   }
   var config = {
    type: 'line',
    data: d,
    options: {
      responsive: true,
      title: {
        display: true,
        text: '營利事業營業額'
      },
      tooltips: {
        mode: 'nearest',
        intersect: false,
      },
      hover: {
        mode: 'nearest',
        intersect: true
      },
      scales: {
        xAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: '半年加總'
          }
        }],
        yAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: '千元'
          }
        }]
      }
    }
  };

   var ctx = document.getElementById('canvas2').getContext('2d');
   window.myLine2 = new Chart(ctx, config);
 });
 $.get('data3.json', {}, function(d){
   for (k in d['datasets']) {
     if(!colorPool[d['datasets'][k].label]) {
       colorPool[d['datasets'][k].label] = dynamicColors();
     }
     var color = colorPool[d['datasets'][k].label];
     d['datasets'][k].backgroundColor = color;
     d['datasets'][k].borderColor = color;
     d['datasets'][k].fill = false;
   }
   var config = {
    type: 'line',
    data: d,
    options: {
      responsive: true,
      title: {
        display: true,
        text: '單位營利事業營業額'
      },
      tooltips: {
        mode: 'nearest',
        intersect: false,
      },
      hover: {
        mode: 'nearest',
        intersect: true
      },
      scales: {
        xAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: '半年'
          }
        }],
        yAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: '千元'
          }
        }]
      }
    }
  };

   var ctx = document.getElementById('canvas3').getContext('2d');
   window.myLine3 = new Chart(ctx, config);
 });
</script>
</body>

</html>
